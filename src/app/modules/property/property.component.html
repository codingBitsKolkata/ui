<!-- Header Image -->
<div class="container-fluid header-image-slide p-0">
  <img class="w-100" src="assets/images/property-banner.png" />
</div>

<div class="container-fluid pt-4 pb-2 filter-container">
  <div class="row">
    <div class="col-md-3">
      <div class="property-found">
          <span class="icon"></span>
          <p class="pl-1"><span>{{propertyList.length}} Homestays </span> properties found</p>
        </div>
    </div>
    <div class="col-md-6">
      <!-- Filter Section -->
      <div class="sorting-result">
        <span class="icon"></span>
        <p class="pl-1 pr-3"><span>Sorting  </span> results by</p>
        <form [formGroup]="checkboxGroupForm">
          <div class="btn-group-toggle">
            <label class="btn-checkbox-filter" ngbButtonLabel>
              <input type="checkbox" formControlName="popularity" ngbButton> Popularity
            </label>
          </div>
          <div class="btn-group-toggle">
            <label class="btn-checkbox-filter" ngbButtonLabel>
              <input type="checkbox" formControlName="price_lowest_first" ngbButton> Price lowest first
              <i class="fa fa-long-arrow-down ml-2" aria-hidden="true"></i>
            </label>
          </div>
          <div class="btn-group-toggle">
            <label class="btn-checkbox-filter" ngbButtonLabel>
              <input type="checkbox" formControlName="couples_frindly" ngbButton> Couples Frindly
            </label>
          </div>
          <div class="btn-group-toggle">
            <label class="btn-checkbox-filter" ngbButtonLabel>
              <input type="checkbox" formControlName="pet_friendly" ngbButton> Pet friendly 
            </label>
          </div>
        </form>
      </div>
    </div>
    <div class="col-md-3">
      <div class="map-filter">
        <span class="icon"></span>
        <p class="pl-1">Show Map</p>
        <ui-switch [(ngModel)]="mapShowHide" size="small"></ui-switch>
      </div>
    </div>
  </div>
</div>
<hr class="m-0">

<div class="container-fluid property-list-section">
  <div class="row">
    <!-- Filter Section -->
    <div class="col-md-3 pt-24">
      <!-- Property Booking Form -->
      <div class="booking-section mb-4">
          <div class="card">
            <div class="card-header">
                Book your stay
            </div>
            <div class="card-body">
                <app-stay-search-form [propertyTypes] = "propertyTypes"></app-stay-search-form>
            </div>
          </div>
        </div>

      <!-- Quick Filter -->
      <div class="card quick-filter-section mb-3">
        <div class="card-header">Quick filter</div>
        <form [formGroup]="checkboxGroupForm">
          <div class="card-body">
            <h5 class="card-title">Guest ratings</h5>
            <div>
              <div class="btn-group-toggle" *ngFor="let key of Object.keys(ratingsFliterList)">
                <label class="btn-checkbox-filter" ngbButtonLabel>
                  <input type="checkbox" formControlName="excellent" ngbButton> {{ratingsFliterList[key]}}
                </label>
              </div>
              <!-- <div class="btn-group-toggle">
                <label class="btn-checkbox-filter" ngbButtonLabel>
                  <input type="checkbox" formControlName="very_good" ngbButton> Very good
                </label>
              </div>
              <div class="btn-group-toggle">
                <label class="btn-checkbox-filter" ngbButtonLabel>
                  <input type="checkbox" formControlName="good" ngbButton> Good
                </label>
              </div> -->
            </div>
          </div>
          <hr class="m-0">
          <!-- <div class="card-body">
            <h5 class="card-title">Popular locations in kolkata</h5>
            <div>
              <div class="btn-group-toggle">
                <label class="btn-checkbox-filter" ngbButtonLabel>
                  <input type="checkbox" formControlName="all_of_kolkata" ngbButton> All of kolkata
                </label>
              </div>
              <div class="btn-group-toggle">
                <label class="btn-checkbox-filter" ngbButtonLabel>
                  <input type="checkbox" formControlName="saltlake" ngbButton> Saltlake
                </label>
              </div>
              <div class="btn-group-toggle">
                <label class="btn-checkbox-filter" ngbButtonLabel>
                  <input type="checkbox" formControlName="parkstreet" ngbButton> Parkstreet
                </label>
              </div>
            </div>
            <div class="text-right mt-2">
              <a class="filter-more-btn" href="">[+] More ...</a>
            </div>
          </div>
          <hr class="m-0"> -->
          <div class="card-body">
            <h5 class="card-title">Homestay facilities</h5>
            <div>
              <div class="btn-group-toggle" *ngFor="let amenitie of amenitiesFliterList; let i = index">
                <label class="btn-checkbox-filter" ngbButtonLabel>
                  <input type="checkbox" formControlName="all_facilities" ngbButton> {{amenitie.aminitiesName}}
                </label>
              </div>
              <!-- <div class="btn-group-toggle">
                <label class="btn-checkbox-filter" ngbButtonLabel>
                  <input type="checkbox" formControlName="airconditioner" ngbButton> Airconditioner
                </label>
              </div>
              <div class="btn-group-toggle">
                <label class="btn-checkbox-filter" ngbButtonLabel>
                  <input type="checkbox" formControlName="wifi" ngbButton> Wifi
                </label>
              </div>
              <div class="btn-group-toggle">
                <label class="btn-checkbox-filter" ngbButtonLabel>
                  <input type="checkbox" formControlName="television" ngbButton> Television
                </label>
              </div> -->
            </div>
            <div class="text-right mt-2">
              <a class="filter-more-btn" href="">[+] More ...</a>
            </div>
          </div>
          <hr class="m-0">
          <div class="card-body">
            <h5 class="card-title">Budget</h5>
            <div>
              <div class="btn-group-toggle" *ngFor="let key of Object.keys(budgetsFliterList)">
                <label class="btn-checkbox-filter" ngbButtonLabel> 
                  <input type="checkbox" formControlName="under_299" ngbButton> <span [innerHTML]="budgetsFliterList[key]"></span>
                </label>
              </div>
              <!-- <div class="btn-group-toggle">
                <label class="btn-checkbox-filter" ngbButtonLabel>
                  <input type="checkbox" formControlName="under_299_999" ngbButton> ₹299 to ₹999
                </label>
              </div>
              <div class="btn-group-toggle">
                <label class="btn-checkbox-filter" ngbButtonLabel>
                  <input type="checkbox" formControlName="under_999_1499" ngbButton> ₹999 to ₹1499
                </label>
              </div>
              <div class="btn-group-toggle">
                <label class="btn-checkbox-filter" ngbButtonLabel>
                  <input type="checkbox" formControlName="under_1499_1999" ngbButton> ₹1499 to ₹1999
                </label>
              </div> -->
            </div>
            <div class="text-right mt-2">
              <a class="filter-more-btn" href="">[+] More ...</a>
            </div>
          </div>
        </form>
      </div>
    </div>
    
    <!-- Property List Section -->
    <div class="pt-24"  [ngClass]="mapShowHide ? 'col-md-6':'col-md-9'">
      <!-- Property List -->
      <div class="property-listing-area mb-4">
          <ng-template ngFor let-i="index" let-c="count" let-property [ngForOf]="propertyList">
        <div class="property-item d-flex">
          <div class="mr-20">
            <img width="260px" height="150px"  [src]="property.coverImageURL!= null ? property.coverImageURL : 'assets/images/property/property-1.png'" src="assets/images/property/property-1.png" />
          </div>
          <div class="w-100">
            <div class="clearfix">
              <p class="float-left ora-id">{{property.oraName}}</p>
              <p class="float-right">
                <a href=""><span class="fa fa-bookmark-o icon"></span></a>
                <a href=""><span class="fa fa-share-alt icon ml-2"></span></a>
              </p>
            </div>
            <div class="clearfix">
              <p class="float-left address"><span class="address-icon"></span> {{property.address}}</p>
              <p class="float-right pet-friendly"><span class="pet-icon"></span> Pet friendly </p>
            </div>
            <div class="clearfix">
              <p class="float-left rating"><span class="badge badge-primary">{{property.rating}}</span> Excellent <span class="text-gray">{{property.reviewCount}} reviews</span></p>
              <p class="float-right couples-frindly"><span class="couples-icon"></span> Couple friendly </p>
            </div>
            <div class="clearfix">
              <p class="float-left complementary">Complimentary <span class="wify-icon"></span><span class="food-icon"></span><span class="parking-icon"></span></p>
            </div>
            <div class="alert alert-secondary clearfix" role="alert">
              <div class="float-left">
                <h6 class="price"><span>₹ {{property.totalPrice | number:'.2'}}</span> Per night</h6>
                <p class="total-times-book">Booked 21 times in the last 24 hours</p>
              </div>
              <button class="btn btn-dark btn-sm float-right" routerLink="/property-details">Book now</button>
            </div>
          </div>
        </div>
        <hr class="mb-4 mt-4">
        </ng-template>
      </div>
    </div>

    <!-- Map Section -->
    <div *ngIf="propertyList.length > 0" [hidden]="!mapShowHide" class="col-md-3">
      <div class="map-container">
          <agm-map [latitude]="+sharedHomeSearchData?.latitude" [longitude]="+sharedHomeSearchData?.longitude"  [zoom]='10'>
              <agm-marker *ngFor="let property of propertyList" [latitude]="+property.latitude" [longitude]="+property.longitude">
                <agm-info-window>{{property.oraName}}</agm-info-window>
              </agm-marker>
          </agm-map>
      </div>
    </div>
  </div>
</div>
<hr>
<!-- Deals for you -->
<div class="container-fluid pt-4 pb-4 deals-section">
  <div class="container">
    <h4 class="title">Deals for you</h4>
    <p class="text">Unique destinations to help travellers plan trips</p>
    <div class="row">
      <div class="col-md-3">
        <img src="assets/images/deals/30LastMinutDeals.png" />
      </div>
      <div class="col-md-3">
        <img src="assets/images/deals/BestOraRoom779.png" />
      </div>
      <div class="col-md-3">
        <img src="assets/images/deals/EarnExtraAsHost.png" />
      </div>
      <div class="col-md-3">
        <img src="assets/images/deals/30LastMinutDeals.png" />
      </div>
    </div>
  </div>
</div>